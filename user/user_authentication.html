<!DOCTYPE html>

<html class="dark" lang="en"><head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>User Authentication - Car Rental</title>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght@100..700,0..1&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap" rel="stylesheet"/>
<script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    screens: {
                        'xs': '280px',
                        'sm': '640px',
                        'md': '768px',
                        'lg': '1024px',
                        'xl': '1280px',
                        '2xl': '1536px',
                        '3xl': '1920px',
                        '4xl': '2560px',
                    },
                    colors: {
                        "primary": "#137fec",
                        "background-light": "#f6f7f8",
                        "background-dark": "#101922",
                    },
                    fontFamily: {
                        "display": ["Inter"]
                    },
                    borderRadius: {"DEFAULT": "0.25rem", "lg": "0.5rem", "xl": "0.75rem", "full": "9999px"},
                },
            },
        }
    </script>
<style>
        .glass-effect {
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
        }
        body {
            font-family: 'Inter', sans-serif;
        }
        .material-symbols-outlined {
            font-family: 'Material Symbols Outlined';
            font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
        }
    </style>
<style>
    body {
      min-height: max(884px, 100dvh);
    }
  
        /* Enhanced responsive design for all devices */
        @media (min-width: 280px) {
            :root {
                font-size: clamp(12px, 3vw, 16px);
            }
        }
        @media (min-width: 640px) {
            :root {
                font-size: clamp(14px, 2vw, 16px);
            }
        }
        @media (min-width: 1024px) {
            :root {
                font-size: clamp(15px, 1.2vw, 18px);
            }
        }
        @media (min-width: 1920px) {
            :root {
                font-size: clamp(16px, 1vw, 20px);
            }
        }
        @media (min-width: 2560px) {
            :root {
                font-size: clamp(18px, 0.8vw, 24px);
            }
        }
        
        .container-responsive {
            max-width: clamp(280px, 100%, 1920px);
            margin: 0 auto;
            padding: clamp(0.5rem, 2vw, 2rem);
        }
        
        .text-responsive {
            font-size: clamp(0.875rem, 2vw, 1rem);
        }
        
        .heading-responsive {
            font-size: clamp(1.25rem, 3vw, 2rem);
        }

    </style>
  </head>
<body class="bg-background-light dark:bg-background-dark font-display transition-colors duration-300">
<!-- Main Container -->
<div class="relative flex min-h-screen w-full flex-col overflow-x-hidden">
<!-- Background Image with Overlay -->
<div class="absolute inset-0 z-0 h-full w-full bg-cover bg-center" data-alt="Sleek black sports car parked in a modern garage" style="background-image: url('https://lh3.googleusercontent.com/aida-public/AB6AXuCQYdifgE8joBrRYqaY63-_p1ufrCXz_hmWo9mRgUY1W6b1D_ZinFWWXwSsAOjniApQkJchEvvPujzE60ieANHW4gXbWbT32e-ew3UX0tnUsB9ZOGWenDJqaOiHC5aqzMUsH1Bj_D4R50yf3UXLlu63VD7mIlilYyS950daHylgNLSGtwMSqYPFXUqfwGYGgWKYD_jX_ldVoTDIBg3r1GZ9ZVzFFBoiUJaq7MWkRCNHrhaJle3Qh3mnYBgFRwiLdnla2jwkWOL-EZUI');">
<div class="absolute inset-0 bg-background-dark/60 dark:bg-background-dark/80 backdrop-brightness-50"></div>
</div>
<!-- Top Navigation / AppBar -->
<div class="relative z-10 flex items-center justify-between p-6">
<div class="text-white flex items-center gap-2">
<span class="material-symbols-outlined text-primary text-3xl">directions_car</span>
<span class="text-xl font-bold tracking-tight">VeloDrive</span>
</div>
<a href="index.html" class="flex h-10 w-10 items-center justify-center rounded-full bg-white/10 text-white glass-effect hover:bg-white/20 transition-all">
<span class="material-symbols-outlined">home</span>
</a>
</div>
<!-- Authentication Content -->
<div class="relative z-10 flex flex-1 flex-col justify-center px-6 pb-12 pt-4">
<div class="mb-8 text-center">
<h1 class="text-white text-4xl font-bold leading-tight">Drive Your Dream</h1>
<p class="text-gray-300 mt-2 text-lg">Premium rentals at your fingertips</p>
</div>
<!-- Auth Card -->
<div class="w-full max-w-[480px] self-center rounded-2xl bg-white/10 p-1 glass-effect border border-white/10 shadow-2xl">
<div class="bg-background-light dark:bg-background-dark/90 rounded-xl p-6 shadow-inner">
<!-- Message Area -->
<div id="messageArea" class="mb-4 p-3 rounded-lg hidden"></div>

<!-- Segmented Control -->
<div class="flex h-12 w-full items-center justify-center rounded-lg bg-gray-200 dark:bg-[#192633] p-1 mb-8">
<label class="flex cursor-pointer h-full grow items-center justify-center rounded-lg px-2 has-[:checked]:bg-primary has-[:checked]:text-white text-gray-500 dark:text-[#92adc9] text-sm font-semibold transition-all">
<span class="truncate">Sign In</span>
<input id="signinTab" checked="" class="hidden" name="auth-mode" type="radio" value="signin"/>
</label>
<label class="flex cursor-pointer h-full grow items-center justify-center rounded-lg px-2 has-[:checked]:bg-primary has-[:checked]:text-white text-gray-500 dark:text-[#92adc9] text-sm font-semibold transition-all">
<span class="truncate">Register</span>
<input id="registerTab" class="hidden" name="auth-mode" type="radio" value="register"/>
</label>
</div>

<!-- Sign In Form -->
<form id="signinForm" class="space-y-4">
<div class="flex flex-col gap-1">
<label class="text-gray-700 dark:text-white text-sm font-medium px-1">Email Address</label>
<div class="relative">
<span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-400">mail</span>
<input id="signinEmail" class="w-full rounded-lg border border-gray-300 dark:border-[#324d67] bg-white dark:bg-[#192633] py-3 pl-11 pr-4 text-gray-900 dark:text-white placeholder:text-gray-400 focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all" placeholder="name@example.com" type="email" required/>
</div>
</div>
<div class="flex flex-col gap-1">
<div class="flex justify-between items-center px-1">
<label class="text-gray-700 dark:text-white text-sm font-medium">Password</label>
<a class="text-primary text-xs font-semibold hover:underline" href="#">Forgot?</a>
</div>
<div class="relative">
<span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-400">lock</span>
<input id="signinPassword" class="w-full rounded-lg border border-gray-300 dark:border-[#324d67] bg-white dark:bg-[#192633] py-3 pl-11 pr-4 text-gray-900 dark:text-white placeholder:text-gray-400 focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all" placeholder="••••••••" type="password" required/>
</div>
</div>
<button type="submit" class="w-full py-4 mt-4 bg-primary text-white rounded-lg font-bold text-lg shadow-lg shadow-primary/30 hover:bg-primary/90 active:scale-[0.98] transition-all">
Sign In
</button>
</form>

<!-- Register Form -->
<form id="registerForm" class="space-y-4 hidden">
<div class="grid grid-cols-2 gap-3">
<div class="flex flex-col gap-1">
<label class="text-gray-700 dark:text-white text-sm font-medium px-1">First Name</label>
<input id="registerFirstName" class="w-full rounded-lg border border-gray-300 dark:border-[#324d67] bg-white dark:bg-[#192633] py-3 px-4 text-gray-900 dark:text-white placeholder:text-gray-400 focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all" placeholder="John" type="text" required/>
</div>
<div class="flex flex-col gap-1">
<label class="text-gray-700 dark:text-white text-sm font-medium px-1">Last Name</label>
<input id="registerLastName" class="w-full rounded-lg border border-gray-300 dark:border-[#324d67] bg-white dark:bg-[#192633] py-3 px-4 text-gray-900 dark:text-white placeholder:text-gray-400 focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all" placeholder="Doe" type="text" required/>
</div>
</div>
<div class="flex flex-col gap-1">
<label class="text-gray-700 dark:text-white text-sm font-medium px-1">Email Address</label>
<div class="relative">
<span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-400">mail</span>
<input id="registerEmail" class="w-full rounded-lg border border-gray-300 dark:border-[#324d67] bg-white dark:bg-[#192633] py-3 pl-11 pr-4 text-gray-900 dark:text-white placeholder:text-gray-400 focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all" placeholder="name@example.com" type="email" required/>
</div>
</div>
<div class="flex flex-col gap-1">
<label class="text-gray-700 dark:text-white text-sm font-medium px-1">Phone Number</label>
<div class="relative">
<span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-400">phone</span>
<input id="registerPhone" class="w-full rounded-lg border border-gray-300 dark:border-[#324d67] bg-white dark:bg-[#192633] py-3 pl-11 pr-4 text-gray-900 dark:text-white placeholder:text-gray-400 focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all" placeholder="+63 912 345 6789" type="tel"/>
</div>
</div>
<div class="flex flex-col gap-1">
<label class="text-gray-700 dark:text-white text-sm font-medium px-1">Password</label>
<div class="relative">
<span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-400">lock</span>
<input id="registerPassword" class="w-full rounded-lg border border-gray-300 dark:border-[#324d67] bg-white dark:bg-[#192633] py-3 pl-11 pr-4 text-gray-900 dark:text-white placeholder:text-gray-400 focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all" placeholder="••••••••" type="password" required/>
</div>
</div>
<button type="submit" class="w-full py-4 mt-4 bg-primary text-white rounded-lg font-bold text-lg shadow-lg shadow-primary/30 hover:bg-primary/90 active:scale-[0.98] transition-all">
Create Account
</button>
</form>

<!-- Social Logins -->
<div class="mt-8">
<div class="relative flex items-center justify-center mb-6">
<div class="w-full border-t border-gray-300 dark:border-[#324d67]"></div>
<span class="absolute bg-background-light dark:bg-[#101922] px-4 text-xs font-medium text-gray-400 uppercase tracking-widest">Or continue with</span>
</div>
<div class="flex justify-center gap-4">
<button class="flex h-12 w-12 items-center justify-center rounded-full border border-gray-300 dark:border-[#324d67] bg-white dark:bg-[#192633] text-gray-900 dark:text-white hover:bg-gray-50 dark:hover:bg-[#233648] transition-all">
<svg class="h-6 w-6" viewbox="0 0 24 24">
<path d="M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z" fill="currentColor"></path>
</svg>
</button>
<button class="flex h-12 w-12 items-center justify-center rounded-full border border-gray-300 dark:border-[#324d67] bg-white dark:bg-[#192633] text-gray-900 dark:text-white hover:bg-gray-50 dark:hover:bg-[#233648] transition-all">
<svg class="h-6 w-6" viewbox="0 0 24 24">
<path d="M17.073,2.132c-0.822,0-1.595,0.401-2.005,1.021c-0.41-0.62-1.183-1.021-2.005-1.021c-1.353,0-2.45,1.097-2.45,2.45c0,1.353,1.097,2.45,2.45,2.45c0.822,0,1.595-0.401,2.005-1.021c0.41,0.62,1.183,1.021,2.005,1.021c1.353,0,2.45-1.097,2.45-2.45C19.523,3.229,18.426,2.132,17.073,2.132z M12.193,12.222c0,0-2.522,0.622-4.102,1.758c-1.58,1.136-2.58,2.783-2.58,4.52c0,3.314,2.686,6,6,6s6-2.686,6-6c0-1.737-1-3.384-2.58-4.52C13.353,12.844,12.193,12.222,12.193,12.222z" fill="currentColor"></path>
<path d="M12.067,2c-0.618,0-1.167,0.417-1.331,1.013l-1.636,6.012c-0.125,0.463,0.063,0.95,0.463,1.201l5.067,3.179c0.231,0.145,0.494,0.22,0.758,0.22c0.21,0,0.421-0.047,0.618-0.143l5.067-2.484c0.435-0.213,0.673-0.679,0.584-1.151l-1.131-6.012C20.434,2.373,19.988,2,19.46,2H12.067z" fill="currentColor"></path>
</svg>
</button>
<button class="flex h-12 w-12 items-center justify-center rounded-full border border-gray-300 dark:border-[#324d67] bg-white dark:bg-[#192633] text-gray-900 dark:text-white hover:bg-gray-50 dark:hover:bg-[#233648] transition-all">
<svg class="h-6 w-6" viewbox="0 0 24 24">
<path d="M12 2.04c-5.5 0-10 4.49-10 10.02c0 5.01 3.66 9.14 8.44 9.9v-7h-2.54v-2.9h2.54V9.82c0-2.51 1.49-3.89 3.78-3.89c1.09,0 2.23.19 2.23.19v2.47h-1.26c-1.24,0-1.63.77-1.63,1.56v1.88h2.78l-.45 2.9h-2.33v7a10 10 0 0 0 8.44-9.9c0-5.53-4.5-10.02-10-10.02z" fill="currentColor"></path>
</svg>
</button>
</div>
</div>
<!-- Footer Links -->
<div class="mt-10 text-center">
<p class="text-xs text-gray-500 dark:text-gray-400 px-4">
                            By continuing, you agree to our 
                            <a class="underline hover:text-primary" href="#">Terms of Service</a> and 
                            <a class="underline hover:text-primary" href="#">Privacy Policy</a>.
                        </p>
</div>
</div>
</div>
</div>
<!-- iOS Bottom Indicator Mock -->
<div class="flex justify-center pb-2 pt-6 relative z-10">
<div class="h-1.5 w-32 rounded-full bg-white/20"></div>
</div>
</div>

<script>
// Switch between sign in and register forms
document.getElementById('signinTab').addEventListener('change', function() {
    if (this.checked) {
        document.getElementById('signinForm').classList.remove('hidden');
        document.getElementById('registerForm').classList.add('hidden');
    }
});

document.getElementById('registerTab').addEventListener('change', function() {
    if (this.checked) {
        document.getElementById('signinForm').classList.add('hidden');
        document.getElementById('registerForm').classList.remove('hidden');
    }
});

// Show message
function showMessage(message, type = 'success') {
    const messageArea = document.getElementById('messageArea');
    messageArea.className = `mb-4 p-3 rounded-lg ${type === 'success' ? 'bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300' : 'bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300'}`;
    messageArea.textContent = message;
    messageArea.classList.remove('hidden');
    
    setTimeout(() => {
        messageArea.classList.add('hidden');
    }, 5000);
}

// Handle Sign In
document.getElementById('signinForm').addEventListener('submit', async function(e) {
    e.preventDefault();
    
    const email = document.getElementById('signinEmail').value;
    const password = document.getElementById('signinPassword').value;
    
    try {
        const response = await fetch('../api/login.php', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ email, password })
        });
        
        const data = await response.json();
        
        if (data.success) {
            // Store user data in localStorage
            localStorage.setItem('user', JSON.stringify(data.data));
            showMessage('Login successful! Redirecting...', 'success');
            
            // Redirect to home page
            setTimeout(() => {
                window.location.href = 'index.html';
            }, 1000);
        } else {
            showMessage(data.error || 'Login failed', 'error');
        }
    } catch (error) {
        showMessage('An error occurred. Please try again.', 'error');
        console.error('Login error:', error);
    }
});

// Handle Registration
document.getElementById('registerForm').addEventListener('submit', async function(e) {
    e.preventDefault();
    
    const firstName = document.getElementById('registerFirstName').value;
    const lastName = document.getElementById('registerLastName').value;
    const email = document.getElementById('registerEmail').value;
    const phone = document.getElementById('registerPhone').value;
    const password = document.getElementById('registerPassword').value;
    
    try {
        const response = await fetch('../api/register.php', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                first_name: firstName,
                last_name: lastName,
                email,
                phone,
                password
            })
        });
        
        const data = await response.json();
        
        if (data.success) {
            // Store user data in localStorage
            localStorage.setItem('user', JSON.stringify(data.data));
            showMessage('Registration successful! Redirecting...', 'success');
            
            // Redirect to home page
            setTimeout(() => {
                window.location.href = 'index.html';
            }, 1000);
        } else {
            showMessage(data.error || 'Registration failed', 'error');
        }
    } catch (error) {
        showMessage('An error occurred. Please try again.', 'error');
        console.error('Registration error:', error);
    }
});
</script>

</body></html>
